<div (click)="closeModal()" class="modal-overlay">
    <div (click)="clickModal = true" class="modal-container">
        <div class="modal__close">
            <svg (click)="closeModal()" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 96 96">
                <switch>
                    <g>
                        <path
                            d="M53.657 48l25.171-25.172a4 4 0 1 0-5.656-5.656L48 42.343 22.829 17.172a4 4 0 0 0-5.657 5.656L42.344 48 17.172 73.172a4 4 0 1 0 5.657 5.656L48 53.657l25.172 25.171C73.953 79.609 74.977 80 76 80s2.048-.391 2.828-1.172a4 4 0 0 0 0-5.656L53.657 48z" />
                    </g>
                </switch>
            </svg>
        </div>
        <h2 class="modal__title">{{ titleText }}</h2>

        <form class="modal__form" [formGroup]="generatorForm" (ngSubmit)="onSubmit()">
            <div class="form-flex">
                <div class="form__input-container">
                    <label class="form__label" for="quantity">Cantidad</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="generatorForm.get('quantity')?.valid"
                            [class.error]="generatorForm.get('quantity')?.invalid && generatorForm.get('quantity')?.touched"></div>
                        <input formControlName="quantity" class="form__input" type="text" placeholder="* Cantidad"
                            name="quantity" autocomplete="off" maxlength="60">
                    </div>
                    <span class="form__error"
                        *ngIf="generatorForm.get('quantity')?.invalid && generatorForm.get('quantity')?.touched">
                        Este campo es <strong>obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="brand">Marca</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="generatorForm.get('brand')?.valid"
                            [class.error]="generatorForm.get('brand')?.invalid && generatorForm.get('brand')?.touched"></div>
                        <input formControlName="brand" class="form__input" type="text" placeholder="* Marca" name="brand"
                            autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error" *ngIf="generatorForm.get('brand')?.invalid && generatorForm.get('brand')?.touched">
                        Este campo es<strong>obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="numberGenerator">Número de generador</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="generatorForm.get('numberGenerator')?.valid"
                            [class.error]="generatorForm.get('numberGenerator')?.invalid && generatorForm.get('numberGenerator')?.touched">
                        </div>
                        <input formControlName="numberGenerator" class="form__input" type="text" placeholder="* Número de generador"
                            name="numberGenerator" autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error"
                        *ngIf="generatorForm.get('numberGenerator')?.invalid && generatorForm.get('numberGenerator')?.touched">
                        Este campo es<strong>obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="model">Modelo</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="generatorForm.get('model')?.valid"
                            [class.error]="generatorForm.get('model')?.invalid && generatorForm.get('model')?.touched"></div>
                        <input formControlName="model" class="form__input" type="text" placeholder="* Modelo" name="model"
                            autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error" *ngIf="generatorForm.get('model')?.invalid && generatorForm.get('model')?.touched">
                        Este campo es<strong>obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="type">Tipo</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="generatorForm.get('type')?.valid"
                            [class.error]="generatorForm.get('type')?.invalid && generatorForm.get('type')?.touched"></div>
                        <input formControlName="type" class="form__input" type="text" placeholder="* Tipo" name="type"
                            autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error" *ngIf="generatorForm.get('type')?.invalid && generatorForm.get('type')?.touched">
                        Este campo es<strong>obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="power">Potencia</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="generatorForm.get('power')?.valid"
                            [class.error]="generatorForm.get('power')?.invalid && generatorForm.get('power')?.touched"></div>
                        <input formControlName="power" class="form__input" type="text" placeholder="* Potencia" name="power"
                            autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error" *ngIf="generatorForm.get('power')?.invalid && generatorForm.get('power')?.touched">
                        Este campo es<strong>obligatorio.</strong>
                    </span>
                </div>
                
            </div>
            <button type="submit" class="form__btn"[disabled]="generatorForm.invalid || generatorForm.untouched || isLoading">
                {{ btnText }} <i *ngIf="isLoading" class="fa-solid fa-circle-notch loader-animation"></i>
            </button>
        </form>
    </div>
</div>