<div #overlay (click)="close_popup()" class="popup-overlay">
  <div #popup (click)="clickPopup = true" class="popup-container">
    <div class="popup__close">
      <svg (click)="close_popup()" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 96 96">
        <switch>
          <g>
            <path
              d="M53.657 48l25.171-25.172a4 4 0 1 0-5.656-5.656L48 42.343 22.829 17.172a4 4 0 0 0-5.657 5.656L42.344 48 17.172 73.172a4 4 0 1 0 5.657 5.656L48 53.657l25.172 25.171C73.953 79.609 74.977 80 76 80s2.048-.391 2.828-1.172a4 4 0 0 0 0-5.656L53.657 48z" />
          </g>
        </switch>
      </svg>
    </div>
    <h2 #title class="popup__title">{{ titleText }}</h2>

    <form #form class="popup__form" [formGroup]="BoatForm" (ngSubmit)="onSubmit()">

      <div class="form-flex">
        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('boatName')?.touched && BoatForm.get('boatName')?.value != null && BoatForm.get('boatName')?.valid || this.isEdit"
          [class.out]="BoatForm.get('boatName')?.touched && BoatForm.get('boatName')?.value.length == 0 && !BoatForm.get('boatName')?.pristine">
            Nombre de lancha:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('boatName')?.valid"
              [class.error]="BoatForm.get('boatName')?.invalid && BoatForm.get('boatName')?.touched">
            </div>
            <input formControlName="boatName" class="form__input" type="text" placeholder="Nombre de lancha"
              name="boatName" autocomplete="off">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('boatName')?.invalid && BoatForm.get('boatName')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('enrollment')?.touched && BoatForm.get('enrollment')?.value != null && BoatForm.get('enrollment')?.valid || this.isEdit"
          [class.out]="BoatForm.get('enrollment')?.touched && BoatForm.get('enrollment')?.value.length == 0 && !BoatForm.get('enrollment')?.pristine">
            Matrícula:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('enrollment')?.valid"
              [class.error]="BoatForm.get('enrollment')?.invalid && BoatForm.get('enrollment')?.touched">
            </div>
            <input formControlName="enrollment" class="form__input" type="text" placeholder="Matrícula"
              name="enrollment" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('enrollment')?.invalid && BoatForm.get('enrollment')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('distinguishingMark')?.touched && BoatForm.get('distinguishingMark')?.value != null && BoatForm.get('distinguishingMark')?.valid || this.isEdit"
          [class.out]="BoatForm.get('distinguishingMark')?.touched && BoatForm.get('distinguishingMark')?.value.length == 0 && !BoatForm.get('distinguishingMark')?.pristine">
            Señal distintiva:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('distinguishingMark')?.valid"
              [class.error]="BoatForm.get('distinguishingMark')?.invalid && BoatForm.get('distinguishingMark')?.touched">
            </div>
            <input formControlName="distinguishingMark" class="form__input" type="text" placeholder="Señal distintiva"
              name="distinguishingMark" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('distinguishingMark')?.invalid && BoatForm.get('distinguishingMark')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('hullMaterial')?.touched && BoatForm.get('hullMaterial')?.value != null && BoatForm.get('hullMaterial')?.valid || this.isEdit"
          [class.out]="BoatForm.get('hullMaterial')?.touched && BoatForm.get('hullMaterial')?.value.length == 0 && !BoatForm.get('hullMaterial')?.pristine">
            Material del casco:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('hullMaterial')?.valid"
              [class.error]="BoatForm.get('hullMaterial')?.invalid && BoatForm.get('hullMaterial')?.touched">
            </div>
            <input formControlName="hullMaterial" class="form__input" type="text" placeholder="Material del casco"
              name="hullMaterial" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('hullMaterial')?.invalid && BoatForm.get('hullMaterial')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('boatType')?.touched && BoatForm.get('boatType')?.value != null && BoatForm.get('boatType')?.valid || this.isEdit"
            [class.out]="BoatForm.get('boatType')?.touched && BoatForm.get('boatType')?.value.length == 0 && !BoatForm.get('boatType')?.pristine">
            Tipo de lancha:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('boatType')?.valid"
              [class.error]="BoatForm.get('boatType')?.invalid && BoatForm.get('boatType')?.touched">
            </div>
            <input formControlName="boatType" class="form__input" type="text" placeholder="Tipo de lancha"
              name="boatType" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('boatType')?.invalid && BoatForm.get('boatType')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('service')?.touched && BoatForm.get('service')?.value != null && BoatForm.get('service')?.valid || this.isEdit"
          [class.out]="BoatForm.get('service')?.touched && BoatForm.get('service')?.value.length == 0 && !BoatForm.get('service')?.pristine">
            Servicio:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('service')?.valid"
              [class.error]="BoatForm.get('service')?.invalid && BoatForm.get('service')?.touched">
            </div>
            <input formControlName="service" class="form__input" type="text" placeholder="Servicio" name="service"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('service')?.invalid && BoatForm.get('service')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('specificExploitation')?.touched && BoatForm.get('specificExploitation')?.value != null && BoatForm.get('specificExploitation')?.valid || this.isEdit"
          [class.out]="BoatForm.get('specificExploitation')?.touched && BoatForm.get('specificExploitation')?.value.length == 0 && !BoatForm.get('specificExploitation')?.pristine">
            Explotación específica:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('specificExploitation')?.valid"
              [class.error]="BoatForm.get('specificExploitation')?.invalid && BoatForm.get('specificExploitation')?.touched">
            </div>
            <input formControlName="specificExploitation" class="form__input" type="text"
              placeholder="Explotación específica" name="specificExploitation" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('specificExploitation')?.invalid && BoatForm.get('specificExploitation')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('enrollmentDate')?.touched && BoatForm.get('enrollmentDate')?.value != null && BoatForm.get('enrollmentDate')?.valid || this.isEdit"
          [class.out]="BoatForm.get('enrollmentDate')?.touched && BoatForm.get('enrollmentDate')?.value.length == 0 && !BoatForm.get('enrollmentDate')?.pristine">
            Fecha de matrícula:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('enrollmentDate')?.valid"
              [class.error]="BoatForm.get('enrollmentDate')?.invalid && BoatForm.get('enrollmentDate')?.touched">
            </div>
            <input #enrollmentDateInput formControlName="enrollmentDate" class="form__input" type="text"
              onfocus="(this.type='date')" placeholder="Fecha matrícula" name="enrollmentDate" autocomplete="off"
              maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('enrollmentDate')?.invalid && BoatForm.get('enrollmentDate')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
          [class.show]="BoatForm.get('constructionDate')?.touched && BoatForm.get('constructionDate')?.value != null && BoatForm.get('constructionDate')?.valid || this.isEdit"
          [class.out]="BoatForm.get('constructionDate')?.touched && BoatForm.get('constructionDate')?.value.length == 0 && !BoatForm.get('constructionDate')?.pristine">
            Fecha de construcción:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('constructionDate')?.valid"
              [class.error]="BoatForm.get('constructionDate')?.invalid && BoatForm.get('constructionDate')?.touched">
            </div>
            <input #constructionDateInput formControlName="constructionDate" class="form__input" type="text"
              onfocus="(this.type='date')" placeholder="Fecha construcción" name="constructionDate" autocomplete="off"
              maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('constructionDate')?.invalid && BoatForm.get('constructionDate')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('nat')?.touched && BoatForm.get('nat')?.value != null && BoatForm.get('nat')?.valid || this.isEdit"
            [class.out]="BoatForm.get('nat')?.touched && BoatForm.get('nat')?.value == null && !BoatForm.get('nat')?.pristine">
            NAT:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('nat')?.valid"
              [class.error]="BoatForm.get('nat')?.invalid && BoatForm.get('nat')?.touched">
            </div>
            <input formControlName="nat" class="form__input" type="number" placeholder="NAT" name="nat"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('nat')?.invalid && BoatForm.get('nat')?.touched && BoatForm.get('nat')?.value == null">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('nan')?.touched && BoatForm.get('nan')?.value != null && BoatForm.get('nan')?.valid || this.isEdit"
            [class.out]="BoatForm.get('nan')?.touched && BoatForm.get('nan')?.value == null && !BoatForm.get('nan')?.pristine">
            NAN:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('nan')?.valid"
              [class.error]="BoatForm.get('nan')?.invalid && BoatForm.get('nan')?.touched">
            </div>
            <input formControlName="nan" class="form__input" type="number" placeholder="NAN" name="nan"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('nan')?.invalid && BoatForm.get('nan')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('eslora')?.touched && BoatForm.get('eslora')?.value != null && BoatForm.get('eslora')?.valid || this.isEdit"
            [class.out]="BoatForm.get('eslora')?.touched && BoatForm.get('eslora')?.value == null && !BoatForm.get('eslora')?.pristine">
            Eslora:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('eslora')?.valid"
              [class.error]="BoatForm.get('eslora')?.invalid && BoatForm.get('eslora')?.touched">
            </div>
            <input formControlName="eslora" class="form__input" type="number" placeholder="Eslora" name="eslora"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('eslora')?.invalid && BoatForm.get('eslora')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('manga')?.touched && BoatForm.get('manga')?.value != null && BoatForm.get('manga')?.valid || this.isEdit"
            [class.out]="BoatForm.get('manga')?.touched && BoatForm.get('manga')?.value == null && !BoatForm.get('manga')?.pristine">
            Manga:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('manga')?.valid"
              [class.error]="BoatForm.get('manga')?.invalid && BoatForm.get('manga')?.touched">
            </div>
            <input formControlName="manga" class="form__input" type="number" placeholder="Manga" name="manga"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('manga')?.invalid && BoatForm.get('manga')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input" 
            [class.show]="BoatForm.get('puntal')?.touched && BoatForm.get('puntal')?.value != null && BoatForm.get('puntal')?.valid || this.isEdit"
            [class.out]="BoatForm.get('puntal')?.touched && BoatForm.get('puntal')?.value == null && !BoatForm.get('puntal')?.pristine">
            Puntal:
          </label>
          <div class="input-wrap">
            <div class="input-info"
            [class.success]="BoatForm.get('puntal')?.valid"
            [class.error]="BoatForm.get('puntal')?.invalid && BoatForm.get('puntal')?.touched">
            </div>
            <input formControlName="puntal" class="form__input" type="number" placeholder="Puntal" name="puntal"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('puntal')?.invalid && BoatForm.get('puntal')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('peopleTransported')?.touched && BoatForm.get('peopleTransported')?.value != null && BoatForm.get('peopleTransported')?.valid || this.isEdit"
            [class.out]="BoatForm.get('peopleTransported')?.touched && BoatForm.get('peopleTransported')?.value == null && !BoatForm.get('peopleTransported')?.pristine">
            Personas transportadas:
          </label>
          <div class="input-wrap">
            <div class="input-info" 
              [class.success]="BoatForm.get('peopleTransported')?.valid"
              [class.error]="BoatForm.get('peopleTransported')?.invalid && BoatForm.get('peopleTransported')?.touched">
            </div>
            <input formControlName="peopleTransported" class="form__input" type="number"
              placeholder="Personas transportadas" name="peopleTransported" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('peopleTransported')?.invalid && BoatForm.get('peopleTransported')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('boatPower')?.touched && BoatForm.get('boatPower')?.value != null && BoatForm.get('boatPower')?.valid || this.isEdit"
            [class.out]="BoatForm.get('boatPower')?.touched && BoatForm.get('boatPower')?.value.length == 0 && !BoatForm.get('boatPower')?.pristine">
            Potencia de la lancha:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('boatPower')?.valid"
              [class.error]="BoatForm.get('boatPower')?.invalid && BoatForm.get('boatPower')?.touched">
            </div>
            <input formControlName="boatPower" class="form__input" type="text" placeholder="Potencia" name="boatPower"
              autocomplete="off" maxlength="11">
          </div>
          <span class="form__error" [class.show]="BoatForm.get('boatPower')?.invalid && BoatForm.get('boatPower')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>

        <div class="form__input-container">
          <label class="form__label-input"
            [class.show]="BoatForm.get('electricPower')?.touched && BoatForm.get('electricPower')?.value != null && BoatForm.get('electricPower')?.valid || this.isEdit"
            [class.out]="BoatForm.get('electricPower')?.touched && BoatForm.get('electricPower')?.value.length == 0 && !BoatForm.get('electricPower')?.pristine">
            Potencia eléctrica:
          </label>
          <div class="input-wrap">
            <div class="input-info" [class.success]="BoatForm.get('electricPower')?.valid"
              [class.error]="BoatForm.get('electricPower')?.invalid && BoatForm.get('electricPower')?.touched">
            </div>
            <input formControlName="electricPower" class="form__input" type="text" placeholder="Potencia eléctrica"
              name="electricPower" autocomplete="off" maxlength="11">
          </div>
          <span class="form__error"
            [class.show]="BoatForm.get('electricPower')?.invalid && BoatForm.get('electricPower')?.touched">
            Debe <strong>completar el campo.</strong>
          </span>
        </div>
      </div>

      <button type="submit" class="form__btn" [disabled]="BoatForm.invalid">{{ btnText }}</button>
    </form>
  </div>
</div>