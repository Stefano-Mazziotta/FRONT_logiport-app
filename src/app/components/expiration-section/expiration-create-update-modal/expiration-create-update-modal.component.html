<div (click)="closeModal()" class="modal-overlay">
    <div (click)="clickModal = true" class="modal-container">
        <div class="modal__close">
            <svg (click)="closeModal()" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 96 96">
                <switch>
                    <g>
                        <path
                            d="M53.657 48l25.171-25.172a4 4 0 1 0-5.656-5.656L48 42.343 22.829 17.172a4 4 0 0 0-5.657 5.656L42.344 48 17.172 73.172a4 4 0 1 0 5.657 5.656L48 53.657l25.172 25.171C73.953 79.609 74.977 80 76 80s2.048-.391 2.828-1.172a4 4 0 0 0 0-5.656L53.657 48z" />
                    </g>
                </switch>
            </svg>
        </div>
        <h2 class="modal__title">{{ titleText }}</h2>

        <form class="modal__form" [formGroup]="expirationForm" (ngSubmit)="onSubmit()">
            <div class="form-flex">
                <div class="form__input-container">
                    <label class="form__label" for="title">Título</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="expirationForm.get('title')?.valid"
                            [class.error]="expirationForm.get('title')?.invalid && expirationForm.get('title')?.touched"></div>
                        <input formControlName="title" class="form__input" type="text" placeholder="* Título"
                            name="title" autocomplete="off" maxlength="60">
                    </div>
                    <span class="form__error"
                        *ngIf="expirationForm.get('title')?.invalid && expirationForm.get('title')?.touched">
                        Este campo es <strong>obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="description">Descripción</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="expirationForm.get('description')?.valid"
                            [class.error]="expirationForm.get('description')?.invalid && expirationForm.get('description')?.touched"></div>
                        <input formControlName="description" class="form__input" type="text" placeholder="* Descripción" name="description"
                            autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error" *ngIf="expirationForm.get('description')?.invalid && expirationForm.get('description')?.touched">
                        Este campo es<strong> obligatorio.</strong>
                    </span>
                </div>
                <div class="form__input-container">
                    <label class="form__label" for="expirationDate">Fecha de vencimiento</label>
                    <div class="input-wrap">
                        <div class="input__decorator" [class.success]="expirationForm.get('expirationDate')?.valid"
                            [class.error]="expirationForm.get('expirationDate')?.invalid && expirationForm.get('expirationDate')?.touched">
                        </div>
                        <input formControlName="expirationDate" class="form__input" type="text" placeholder="* Número de generador"
                            name="expirationDate" autocomplete="off" maxlength="11">
                    </div>
                    <span class="form__error"
                        *ngIf="expirationForm.get('expirationDate')?.invalid && expirationForm.get('expirationDate')?.touched">
                        Este campo es<strong> obligatorio.</strong>
                    </span>
                </div>
                
            </div>
            <button type="submit" class="form__btn"[disabled]="expirationForm.invalid || expirationForm.untouched || isLoading">
                {{ btnText }} <i *ngIf="isLoading" class="fa-solid fa-circle-notch loader-animation"></i>
            </button>
        </form>
    </div>
</div>